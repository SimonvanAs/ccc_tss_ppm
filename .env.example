# TSS PPM v3.0 - Environment Configuration
# Copy to .env and customize values

# =============================================================================
# DATABASE (PostgreSQL 17)
# =============================================================================
DB_USER=ppm
DB_PASSWORD=change_me_in_production
DB_NAME=tss_ppm
DB_HOST=localhost
DB_PORT=5433

# Full connection URL (used by backend)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# =============================================================================
# KEYCLOAK (Authentication)
# =============================================================================
KC_ADMIN=admin
KC_ADMIN_PASSWORD=change_me_in_production

# Backend connection to Keycloak (internal Docker network)
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=tss-ppm
KEYCLOAK_CLIENT_ID=tss-ppm-api
KEYCLOAK_CLIENT_SECRET=
# Issuer URL for JWT validation - must match your public domain
KEYCLOAK_ISSUER_URL=https://ppm.tss-vms.co.uk

# Frontend connection to Keycloak (empty for root path)
VITE_KEYCLOAK_URL=
VITE_KEYCLOAK_REALM=tss-ppm
VITE_KEYCLOAK_CLIENT_ID=tss-ppm-web

# =============================================================================
# VOICE SERVICE (faster-whisper)
# =============================================================================
WHISPER_URL=http://localhost:8001
WHISPER_MODEL=Systran/faster-whisper-small

# =============================================================================
# API CONFIGURATION
# =============================================================================
VITE_API_URL=/api/v1
CORS_ORIGINS=https://ppm.tss-vms.co.uk
LOG_LEVEL=INFO

# JWT token settings
JWT_ALGORITHM=RS256
JWT_AUDIENCE=tss-ppm-api

# =============================================================================
# PDF GENERATION (WeasyPrint)
# =============================================================================
PDF_TEMP_DIR=/tmp/tss_ppm_pdf
PDF_FONT_DIR=/app/fonts

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Default language (en, nl, es)
DEFAULT_LANGUAGE=en

# Auto-save delay in milliseconds
AUTO_SAVE_DELAY_MS=2500

# Session code length for resume functionality
SESSION_CODE_LENGTH=10

# =============================================================================
# PLAUSIBLE ANALYTICS (Optional)
# =============================================================================
# Site domain configured in Plausible (leave empty to disable analytics)
VITE_PLAUSIBLE_DOMAIN=
# Plausible instance URL (defaults to plausible.io for hosted version)
VITE_PLAUSIBLE_URL=https://plausible.io

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================
# Set to true to enable debug mode (never in production!)
DEBUG=false

# Hot reload for development
WATCHFILES_FORCE_POLLING=true
